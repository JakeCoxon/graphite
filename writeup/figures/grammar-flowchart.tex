\tikzset{
    every node/.style={scale=0.8,node distance=0.8cm and 0.6cm,anchor=center},
    seperator/.style={color=lightgray},
    aligned/.style={
      to path={
        (\tikztostart) -| (\tikztotarget)
        \tikztonodes
      }
    },
    bent left down/.style={
      to path={
        -- +(-0.5cm,0) .. controls +(-0.5,-0.5) and +(-0.5,0.2) ..  (\tikztotarget) \tikztonodes
      }},
    bent right down/.style={
      to path={
        -- +(0.5cm,0) .. controls +(0.5,-0.5) and +(0.5,0.2) ..  (\tikztotarget) \tikztonodes
      }},
    bent left up/.style={
      to path={
        -- +(-0.5cm,0) .. controls +(-0.5,0.5) and +(-0.5,-0.2) ..  (\tikztotarget) \tikztonodes
      }},
    bent right up/.style={
      to path={
        -- +(0.5cm,0) .. controls +(0.5,0.5) and +(0.5,-0.2) ..  (\tikztotarget) \tikztonodes
      }},
    bent right up big/.style={
      to path={
        -- +(0.5cm,0) .. controls +(0.5,1) and +(1,-0.2) ..  (\tikztotarget) \tikztonodes
      }},
    bent left up big/.style={
      to path={
        -- +(-0.5cm,0) .. controls +(-0.5,1) and +(-1,-0.2) ..  (\tikztotarget) \tikztonodes
      }},
    dhyperedge/.style={hyperedge,diamond},
    dbelow/.style={below=#1.center,anchor=center},
    dbelow2/.style={below=1.6 #1.center,anchor=center},
    dbelow3/.style={below=2.4 #1.center,anchor=center},
    dbelow4/.style={below=3.2 #1.center,anchor=center},
    dbelow left/.style={below left=#1.center,anchor=center},
    dbelow left2/.style={below left=1.6 and 0.6 #1.center,anchor=center},
    dbelow left3/.style={below left=2.4 and 0.6 #1.center,anchor=center},
    dbelow right/.style={below right=#1.center,anchor=center},
    dbelow right2/.style={below right=1.6 and 0.6 #1.center,anchor=center},
    dbelow right3/.style={below right=2.4 and 0.6 #1.center,anchor=center},
  }

\begin{figure}[H]
  \centering
  

  

  \begin{tikzpicture}[scale=0.5,node distance=0.5cm]

    \matrix[column sep=0.5cm]
    {
    \node (lbl) {$C ::= $};

    &

    \node[vertex]     (a)    [label=1] {};
    \node[hyperedge]  (hyp1) [dbelow=of a] {$C$};
    \node[vertex]     (b)    [dbelow=of hyp1] {};
    \node[hyperedge]  (hyp2) [dbelow=of b] {$C$};
    \node[vertex]     (c)    [dbelow=of hyp2,label=2] {} ;

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge node[tentacle]{$2$} (b)
             (hyp2) edge node[tentacle]{$1$} (b)
                    edge node[tentacle]{$2$} (c);

    &
      \draw[seperator] (0,0) -- (0,-3.2);
    &

    \node[vertex]     (a)    [label=1] {};
    \node[dhyperedge] (hyp1) [dbelow2=of a] {$D$};
    \node[vertex]     (b)    [dbelow2=of hyp1,label=2] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge[bent left down] node[tentacle]{$2$} (b) 
                    edge[bent right down] node[tentacle]{$3$} (b);


    &
      \draw[seperator] (0,0) -- (0,-3.2);
    &
    
    \node[vertex]     (a)    [label=1] {};
    \node[dhyperedge] (hyp1) [dbelow2=of a] {$D$};
    \node[vertex]     (b)    [dbelow2=of hyp1,label=2] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge[bent left up] node[tentacle]{$2$} (a) 
                    edge[bent right down] node[tentacle]{$3$} (b);

    &
      \draw[seperator] (0,0) -- (0,-3.2);
    &
    
    \node[vertex]     (a)    [label=1] {};
    \node[dhyperedge] (hyp1) [dbelow2=of a] {$D$};
    \node[vertex]     (b)    [dbelow2=of hyp1,label=2] {};

    \path[-] (hyp1) edge node[tentacle] {$1$} (a)
                    edge[bent left down] node[tentacle] {$2$} (b) 
                    edge[bent right up] node[tentacle] {$3$} (a);
    
    &
      \draw[seperator] (0,0) -- (0,-3.2);
    &

    \node[vertex]     (a)    [label=1] {};
    \node[hyperedge]  (hyp1) [dbelow2=of a] {$c$};
    \node[vertex]     (b)    [dbelow2=of hyp1,label=2] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge node[tentacle]{$2$} (b);
    \\
    };
  \end{tikzpicture} \\[1cm]

  \begin{tikzpicture}[scale=0.1,node distance=0.5cm]
    \matrix[column sep=0.5cm,row sep=1cm]
    {

    \node (lbl) {$D ::= $};

    &

    \node[vertex]     (a)    [label=1] {};
    \node[dhyperedge] (hyp1) [dbelow=of a] {$D$};
    \node[vertex]     (b)    [dbelow right=of hyp1] {};
    \node[hyperedge]  (hyp2) [dbelow=of b] {$C$};
    \node[vertex]     (d)    [dbelow=of hyp2,label=3] {};
    \node[vertex]     (c)    [dbelow left3=of hyp1,label=2] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge[aligned] node[tentacle]{$2$} (c) 
                    edge[aligned] node[tentacle]{$3$} (b)
             (hyp2) edge node[tentacle]{$1$} (b)
                    edge node[tentacle]{$2$} (d);


    &
      \draw[seperator] (0,0) -- (0,-3.2);
    &

    \node[vertex]     (a)    [label=1] {};
    \node[dhyperedge] (hyp1) [dbelow=of a] {$D$};
    \node[vertex]     (b)    [dbelow left=of hyp1] {};
    \node[hyperedge]  (hyp2) [dbelow=of b] {$C$};
    \node[vertex]     (c)    [dbelow=of hyp2,label=2] {};
    \node[vertex]     (d)    [dbelow right3=of hyp1,label=3] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge[aligned] node[tentacle]{$2$} (b)
                    edge[aligned] node[tentacle]{$3$} (d)
             (hyp2) edge node[tentacle]{$1$} (b)
                    edge node[tentacle]{$2$} (c);

    &
      \draw[seperator] (0,0) -- (0,-3.2);
    &

    \node[vertex]     (a)    [label=1] {};
    \node[dhyperedge] (hyp1) [dbelow=of a] {$D$};
    \node[vertex]     (b)    [dbelow left=of hyp1] {};
    \node[dhyperedge] (hyp2) [dbelow=of b] {$D$};
    \node[vertex]     (c)    [dbelow right=of hyp2,label=2] {};
    \node[vertex]     (d)    [dbelow right3=of hyp1,label=3] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge[aligned] node[tentacle]{$2$} (b) 
                    edge[aligned] node[tentacle]{$3$} (d)
             (hyp2) edge node[tentacle]{$1$} (b)
                    edge[bent left up big] node[tentacle]{$2$} (a)
                    edge[aligned] node[tentacle]{$3$} (c);
    
    &
      \draw[seperator] (0,0) -- (0,-3.2);
    &

    \node[vertex]     (a)    [label=1] {};
    \node[dhyperedge] (hyp1) [dbelow=of a] {$D$};
    \node[vertex]     (b)    [dbelow right=of hyp1] {};
    \node[dhyperedge] (hyp2) [dbelow=of b] {$D$};
    \node[vertex]     (c)    [dbelow left3=of hyp1,label=2] {};
    \node[vertex]     (d)    [dbelow left=of hyp2,label=3] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge[aligned] node[tentacle]{$2$} (c) 
                    edge[aligned] node[tentacle]{$3$} (b)
             (hyp2) edge node[tentacle]{$1$} (b)
                    edge[aligned] node[tentacle]{$2$} (d)
                    edge[bent right up big] node[tentacle]{$3$} (a);

    &
      \draw[seperator] (0,0) -- (0,-3.2);
    

    \\

    &
    
    \node[vertex]     (a)    [label=1] {};
    \node[dhyperedge] (hyp1) [dbelow=of a] {$D$};
    \node[vertex]     (b)    [dbelow right=of hyp1] {};
    \node[dhyperedge] (hyp2) [dbelow=of b] {$D$};
    \node[vertex]     (c)    [dbelow left=of hyp2,label=2] {};
    \node[vertex]     (d)    [dbelow right=of hyp2,label=3] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge[bent left down] node[tentacle]{$2$} (c) 
                    edge[aligned] node[tentacle]{$3$} (b)
             (hyp2) edge node[tentacle]{$1$} (b)
                    edge[aligned] node[tentacle]{$2$} (c)
                    edge[aligned] node[tentacle]{$3$} (d);

    
    &
      \draw[seperator] (0,0) -- (0,-3.2);
    &

    \node[vertex]     (a)    [label=1] {};
    \node[dhyperedge] (hyp1) [dbelow=of a] {$D$};
    \node[vertex]     (b)    [dbelow left=of hyp1] {};
    \node[dhyperedge] (hyp2) [dbelow=of b] {$D$};
    \node[vertex]     (c)    [dbelow left=of hyp2,label=2] {};
    \node[vertex]     (d)    [dbelow right=of hyp2,label=3] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge[aligned] node[tentacle]{$2$} (b) 
                    edge[bent right down] node[tentacle]{$3$} (d)
             (hyp2) edge node[tentacle]{$1$} (b)
                    edge[aligned] node[tentacle]{$2$} (c)
                    edge[aligned] node[tentacle]{$3$} (d);


    &
      \draw[seperator] (0,0) -- (0,-3.2);
    &

    \node[vertex]     (a)     [anchor=center,label=1] {};
    \node[hyperedge]  (hyp1)  [dbelow=of a] {$C$};
    \node[vertex]     (b)     [dbelow=of hyp1] {};
    \node[dhyperedge] (hyp2)  [dbelow=of b] {$D$};
    \node[vertex]     (c)     [dbelow left=of hyp2,label=2] {};
    \node[vertex]     (d)     [dbelow right=of hyp2,label=3] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge node[tentacle]{$2$} (b)
             (hyp2) edge node[tentacle]{$1$} (b)
                    edge[aligned] node[tentacle]{$2$} (c) 
                    edge[aligned] node[tentacle]{$3$} (d);
    
    &
      \draw[seperator] (0,0) -- (0,-3.2);
    &

    \node[vertex]     (a)    [label=1] {};
    \node[dhyperedge] (hyp1) [dbelow=of a] {$d$};
    \node[vertex]     (b)    [dbelow left3=of hyp1,label=2] {};
    \node[vertex]     (c)    [dbelow right3=of hyp1,label=3] {};

    \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                    edge[aligned] node[tentacle]{$2$} (b) 
                    edge[aligned] node[tentacle]{$3$} (c);

    \\
    };
  \end{tikzpicture}

  


  \caption{Flowchart grammar}
  
\end{figure}
\begin{figure}[H]
  \centering

  \begin{tikzpicture}

    \matrix[column sep=1cm,row sep=1cm]
    {
      \node[vertex]     (a)    [label=1] {};
      \node[hyperedge]  (hyp1) [dbelow2=of a] {$C$};
      \node[vertex]     (b)    [dbelow2=of hyp1,label=2] {};

      \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                      edge node[tentacle]{$2$} (b);

      &
      \node[]           (arrow) [] {$\Rightarrow$};
      &

      \node[vertex]     (a)    [label=1] {};
      \node[dhyperedge] (hyp1) [dbelow2=of a] {$D$};
      \node[vertex]     (b)    [dbelow2=of hyp1,label=2] {};

      \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                      edge[bent left down] node[tentacle]{$2$} (b) 
                      edge[bent right down] node[tentacle]{$3$} (b);

      &
      \node[]           (arrow) [] {$\Rightarrow$};
      &

      \node[vertex]     (a)    [label=1] {};
      \node[dhyperedge] (hyp1) [dbelow=of a] {$D$};
      \node[vertex]     (b)    [dbelow right=of hyp1] {};
      \node[dhyperedge] (hyp2) [dbelow=of b] {$D$};
      \node[vertex]     (c)    [dbelow left=of hyp2,label=2] {};

      \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                      edge[bent left down] node[tentacle]{$2$} (c) 
                      edge[aligned] node[tentacle]{$3$} (b)
               (hyp2) edge node[tentacle]{$1$} (b)
                      edge[aligned] node[tentacle]{$2$} (c)
                      edge[bent right up big] node[tentacle]{$3$} (a);
      &
      \node[]           (arrow) [] {$\Rightarrow$};
      &


      \node[vertex]     (a)    [label=1] {};
      \node[hyperedge]  (hyp1) [dbelow=of a] {$C$};
      \node[vertex]     (b)    [dbelow=of hyp1] {};
      \node[dhyperedge] (hyp2) [dbelow=of b] {$D$};
      \node[vertex]     (c)    [dbelow right=of hyp2] {};
      \node[dhyperedge] (hyp3) [dbelow=of c] {$D$};
      \node[vertex]     (d)    [dbelow left=of hyp3,label=2] {};

      \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                      edge node[tentacle]{$2$} (b)
               (hyp2) edge node[tentacle]{$1$} (b)
                      edge[bent left down] node[tentacle]{$2$} (d) 
                      edge[aligned] node[tentacle]{$3$} (c)
               (hyp3) edge node[tentacle]{$1$} (c)
                      edge[aligned] node[tentacle]{$2$} (d)
                      edge[bent right up big] node[tentacle]{$3$} (a);
      
      \\
      &
      \node[]           (arrow) [] {$\Rightarrow$};
      &


      \node[vertex]     (a)    [label=1] {};
      \node[hyperedge]  (hyp1) [dbelow=of a] {$C$};
      \node[vertex]     (b)    [dbelow=of hyp1] {};
      \node[dhyperedge] (hyp2) [dbelow=of b] {$D$};
      \node[vertex]     (c)    [dbelow right=of hyp2] {};
      \node[dhyperedge] (hyp3) [dbelow=of c] {$D$};
      \node[vertex]     (d)    [dbelow left=of hyp3,label=2] {};
      \node[hyperedge]  (hyp4) [dbelow=of d] {$C$};
      \node[vertex]     (e)    [dbelow=of hyp4] {};

      \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                      edge node[tentacle]{$2$} (b)
               (hyp2) edge node[tentacle]{$1$} (b)
                      edge[bent left down] node[tentacle]{$2$} (e) 
                      edge[aligned] node[tentacle]{$3$} (c)
               (hyp3) edge node[tentacle]{$1$} (c)
                      edge[aligned] node[tentacle]{$2$} (d)
                      edge[bent right up big] node[tentacle]{$3$} (a)
               (hyp4) edge node[tentacle]{$1$} (d)
                      edge node[tentacle]{$2$} (e);

      &
      \node[]           (arrow) [] {$\Rightarrow$};
      &


      \node[vertex]     (a)    [label=1] {};
      \node[hyperedge]  (hyp1) [dbelow=of a] {$C$};
      \node[vertex]     (b)    [dbelow=of hyp1] {};
      \node[dhyperedge] (hyp2) [dbelow=of b] {$D$};
      \node[vertex]     (c)    [dbelow right=of hyp2] {};
      \node[dhyperedge] (hyp3) [dbelow=of c] {$D$};
      \node[vertex]     (d)    [dbelow left=of hyp3,label=2] {};
      \node[hyperedge]  (hyp4) [dbelow=of d] {$C$};
      \node[vertex]     (e)    [dbelow=of hyp4] {};
      \node[vertex]     (f)    [dbelow left=of hyp2] {};
      \node[hyperedge]  (hyp5) [dbelow=of f] {$C$};

      \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                      edge node[tentacle]{$2$} (b)
               (hyp2) edge node[tentacle]{$1$} (b)
                      edge[aligned] node[tentacle]{$2$} (f) 
                      edge[aligned] node[tentacle]{$3$} (c)
               (hyp3) edge node[tentacle]{$1$} (c)
                      edge[aligned] node[tentacle]{$2$} (d)
                      edge[bent right up big] node[tentacle]{$3$} (a)
               (hyp4) edge node[tentacle]{$1$} (d)
                      edge node[tentacle]{$2$} (e)
               (hyp5) edge node[tentacle]{$1$} (f);
      \draw (hyp5) .. controls +(0,-0.5) and +(-0.5,0.2) .. (e) node[tentacle]{$2$};

      &
      \node[]           (arrow) [] {$\Rightarrow^{*}$};
      &


      \node[vertex]     (a)    [label=1] {};
      \node[hyperedge]  (hyp1) [dbelow=of a] {$c$};
      \node[vertex]     (b)    [dbelow=of hyp1] {};
      \node[dhyperedge] (hyp2) [dbelow=of b] {$d$};
      \node[vertex]     (c)    [dbelow right=of hyp2] {};
      \node[dhyperedge] (hyp3) [dbelow=of c] {$d$};
      \node[vertex]     (d)    [dbelow left=of hyp3,label=2] {};
      \node[hyperedge]  (hyp4) [dbelow=of d] {$c$};
      \node[vertex]     (e)    [dbelow=of hyp4] {};
      \node[vertex]     (f)    [dbelow left=of hyp2] {};
      \node[hyperedge]  (hyp5) [dbelow=of f] {$c$};

      \path[-] (hyp1) edge node[tentacle]{$1$} (a)
                      edge node[tentacle]{$2$} (b)
               (hyp2) edge node[tentacle]{$1$} (b)
                      edge[aligned] node[tentacle]{$2$} (f) 
                      edge[aligned] node[tentacle]{$3$} (c)
               (hyp3) edge node[tentacle]{$1$} (c)
                      edge[aligned] node[tentacle]{$2$} (d)
                      edge[bent right up big] node[tentacle]{$3$} (a)
               (hyp4) edge node[tentacle]{$1$} (d)
                      edge node[tentacle]{$2$} (e)
               (hyp5) edge node[tentacle]{$1$} (f);
      \draw (hyp5) .. controls +(0,-0.5) and +(-0.5,0.2) .. (e) node[tentacle]{$2$};


      \\
    };
  \end{tikzpicture}
  \caption{Example derivation of flowchart grammar}
\end{figure}